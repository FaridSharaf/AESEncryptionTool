<Window x:Class="AESCryptoTool.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        Title="Settings" Height="700" Width="600" MinHeight="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResizeWithGrip"
        Style="{StaticResource ThemedWindow}">
    <Window.Resources>
        <!-- Styles inherited from App.xaml -->
    </Window.Resources>
    
    <Border Background="{DynamicResource CardBg}" CornerRadius="8" Margin="15" Padding="20">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,20">
                <ui:SymbolIcon Symbol="Settings24" FontSize="20" Foreground="{DynamicResource TextPrimary}" Margin="0,0,10,0"/>
                <TextBlock Text="Preferences" FontSize="18" FontWeight="Bold" Foreground="{DynamicResource TextPrimary}"/>
            </StackPanel>

            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" PanningMode="VerticalOnly" Margin="0,0,-15,10" Padding="0,0,15,0">
                <StackPanel>
                    <CheckBox x:Name="AutoCopyCheckBox" Content="Auto-copy result to clipboard" IsChecked="True"/>
                    <CheckBox x:Name="AutoDetectCheckBox" Content="Auto-detect input type (encrypted/plaintext)" IsChecked="True"/>
                    
                    <Label Content="Recent Items Count:" Margin="0,15,0,5"/>
                    <TextBox x:Name="RecentItemsCountTextBox" Text="10" Width="80" HorizontalAlignment="Left"
                             TextChanged="RecentItemsCountTextBox_TextChanged"/>
                    
                    <StackPanel Orientation="Horizontal" Margin="0,20,0,5">
                        <ui:SymbolIcon Symbol="Storage24" Margin="0,0,8,0"/>
                        <TextBlock Text="Storage Limits (Max: 1000)" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimary}"/>
                    </StackPanel>
                    
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <ui:SymbolIcon Symbol="Warning24" FontSize="14" Margin="0,0,8,0" Foreground="{DynamicResource TextSecondary}"/>
                        <TextBlock Text="Items beyond this limit will be permanently deleted" 
                                   Foreground="{DynamicResource TextSecondary}" FontSize="11"/>
                    </StackPanel>
                    
                    <Label Content="Max History Records:" Margin="0,5,0,5"/>
                    <TextBox x:Name="MaxHistoryItemsTextBox" Text="500" Width="80" HorizontalAlignment="Left"
                             TextChanged="MaxHistoryItemsTextBox_TextChanged"/>
                    
                    <Label Content="Max Bookmark Records:" Margin="0,15,0,5"/>
                    <TextBox x:Name="MaxBookmarkItemsTextBox" Text="100" Width="80" HorizontalAlignment="Left"
                             TextChanged="MaxBookmarkItemsTextBox_TextChanged"/>
                    
                    <Label Content="Theme:" Margin="0,15,0,5"/>
                    <ComboBox x:Name="ThemeComboBox" Width="200" HorizontalAlignment="Left"
                              SelectionChanged="ThemeComboBox_SelectionChanged">
                    </ComboBox>
                    
                    <Label Content="Font:" Margin="0,15,0,5"/>
                    <ComboBox x:Name="FontComboBox" Width="200" HorizontalAlignment="Left"
                              SelectionChanged="FontComboBox_SelectionChanged">
                        <ComboBoxItem Content="Segoe UI" Tag="Segoe UI"/>
                        <ComboBoxItem Content="Inter" Tag="Inter"/>
                        <ComboBoxItem Content="Roboto" Tag="Roboto"/>
                        <ComboBoxItem Content="Open Sans" Tag="Open Sans"/>
                        <ComboBoxItem Content="Consolas" Tag="Consolas"/>
                        <ComboBoxItem Content="Cascadia Code" Tag="Cascadia Code"/>
                    </ComboBox>
                    <Separator Margin="0,20,0,10"/>
                    <TextBlock Text="Data Management" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,10"/>
                    <StackPanel Orientation="Horizontal">
                        <ui:Button Content="Export Data" Appearance="Secondary" 
                                Click="ExportDataButton_Click" Margin="0,0,10,0" ToolTip="Backup History and Bookmarks">
                            <ui:Button.Icon>
                                <ui:SymbolIcon Symbol="Save24"/>
                            </ui:Button.Icon>
                        </ui:Button>
                        <ui:Button Content="Import Data" Appearance="Secondary" 
                                Click="ImportDataButton_Click" ToolTip="Restore History and Bookmarks">
                            <ui:Button.Icon>
                                <ui:SymbolIcon Symbol="FolderOpen24"/>
                            </ui:Button.Icon>
                        </ui:Button>
                    </StackPanel>
                    
                    <Separator Margin="0,20,0,10"/>
                    <TextBlock Text="System Tray" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,10"/>
                    <CheckBox x:Name="MinimizeToTrayCheckBox" Content="Minimize to system tray" Margin="0,0,0,8"/>
                    <CheckBox x:Name="CloseToTrayCheckBox" Content="Close to system tray (use right-click â†’ Exit to quit)" Margin="0,0,0,8"/>
                    
                    <Separator Margin="0,20,0,10"/>
                    <TextBlock Text="Window" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,10"/>
                    <CheckBox x:Name="AlwaysOnTopCheckBox" Content="Always on Top"/>
                </StackPanel>
            </ScrollViewer>

            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                <ui:Button Content="Save" Appearance="Primary" 
                        Width="100" Margin="0,0,10,0" Click="OkButton_Click" IsDefault="True"/>
                <ui:Button Content="Cancel" Appearance="Secondary" 
                        Width="100" Click="CancelButton_Click" IsCancel="True"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>


